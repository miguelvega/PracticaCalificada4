<h2>Create New Movie</h2>

<%= form_tag movies_path, :class => 'form' do %>
  <%= label :movie, :title, 'Title', :class => 'col-form-label' %>
  <%= text_field :movie, :title, :class => 'form-control' %>
  <%= label :movie, :rating, 'Rating', :class => 'col-form-label'  %>
  <%= select :movie, :rating, ['G','PG','PG-13','R'], {}, {:class => 'form-control col-1'} %>
  <%= label :movie, :release_date, 'Released On', :class => 'col-form-label'  %>
  <%= date_select :movie, :release_date, {}, :class => 'form-control col-2 d-inline' %>
  <br/>
  <%= submit_tag 'Save Changes', :class => 'btn btn-primary' %>
  <%= link_to 'Cancel', movies_path, :class => 'btn btn-secondary' %>
<% end %>

<script>
  document.querySelector('.form').addEventListener('submit', function (event) {
    document.getElementById('movie_title').classList.remove('validation-error');
    var title = document.querySelector('#movie_title').value;
    if (title.trim() === '') {
      alert('El título no puede estar vacío');
      document.getElementById('movie_title').classList.add('validation-error');
      event.preventDefault();
      return;
    }
    });
</script>

<style>
  .validation-error {
    border: 1px solid red;
  }
</style>